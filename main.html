<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Hangman</title>

</head>

<body>
    <p>DEFINITION(HINT)</p>
    <p id="wordDefID" style="display: none"></p>
    <button id="toggle" onclick=animate_toggle()>Hint!</button>
    <script>
        function animate_toggle(){
          let x = document.getElementById("wordDefID");
          if (x.style.display === "none") {
              x.style.display = "block";
          }
          else{
              x.style.display = "none";
          }
        }
    </script>


    <p>ANSWER(TESTING)</p>
    <p id="answerID"></p>
    <!-- Todo: cover -->


    <p>ANSWER(Chr Ver)</p>
    <p id="answerChrID"></p>
    <!-- todo: this is for checking only-->

    <p>LIFE</p>
    <p id="lifeID">7</p>

    <p>YOUR GUESS</p>
    <p id="guessID">YOUR GUESS?</p>

    <script>
        // for the testing purpose, only 4 words in the array.
        // hint
        let tattoo = "a form of body modification where a design is made by inserting ink";
        let electricity = "the set of physical phenomena associated with the presence and motion of electric charge";
        let committee = "a group of people chosen to do a particular job, make decisions";
        let system = "a group of related parts that work together as a whole for a particular purpose";

        let arrayOfAnswers = ["TATTOO", "ELECTRICITY", "COMMITTEE", "SYSTEM"];
        let arrayOfDefs = [tattoo, electricity, committee, system];
        let answerChr = [];

        let arrayOfGuesses = [];
        let userGuess = "";

        let lives = 7;

        function alpha() {
            // This is used to the alphabet
            let alphabet = [];
            for (let i = 65; i < 91; i++) {
                alphabet.push(String.fromCharCode(i));
            }
            return alphabet;
            // Return a list of capital letters from A - Z
        }


        function generateButton() {
            document.getElementById('wordDefID').innerHTML = "these people are often associated with being a snake";
            // This is used to create buttons for every letter of the alphabet
            let letters = alpha();
            for (let i = 0; i < 26; i++) {
                let button = new Button(i);
                // Create a button in an object constructor
                button.btn.innerHTML = letters[i];
                // Assign the innerHTML with the letter in letters with index i
                // 0 = A, 1 = B, 2 = C, etc...


                button.btn.addEventListener("click", function () {
                    // Add an event to the button once it is made.

                    // console.log(`You clicked on the ${button.btn.innerHTML} button.`)
                    // The event will print every time it is clicked.

                    checkDummyWord(button.btn.innerHTML);
                })
            }
        }

        function checkDummyWord(letter){
            let dummyWord = "BUSINESS";
            // The dummyWord is all caps because all of the buttons are uppercased. This can be changed how the group likes it with methods .toLowerCase()
            if (dummyWord.includes(letter)){
                // This checks the letter, but it also checks whether is it capitalized or not.
                console.log("That was the right letter.");
            } else{
                console.log(">:) That was incorrect.");
            }
        }

        // function generateButton() {
        //     let temp = disPlayDefinition();
        //     let temp2 = AnswerChrLeng(temp);
        //     for (let i = 0; i < 26; i++) {
        //         let createdButton = new Button(i);
        //         createdButton.btn.innerHTML = String.fromCharCode(i + 65);
        //         // console.log("AnswerChrLeng(temp) : " + temp2); // ---> return list
        //         createdButton.btn.onclick = function () {
        //             for (let j = 0; j < 26; j++) {
        //                 if (createdButton.id === j) {
        //                     arrayOfGuesses.push(String.fromCharCode(j + 65));
        //                     createdButton.btn.style.visibility = "hidden";
        //                 }
        //             }
        //             guess(temp2);
        //             // Todo: make sure the button clicked counts for reoccurring letters
        //             document.getElementById("guessID").innerHTML = arrayOfGuesses;
        //             gameOver();

        //         }
        //     }
        // }

        function Button(id) {
            this.id = id;
            this.btn = document.createElement("button");
            // this.btn.id = `${this.id}`;
            this.btn.style.width = "50px";
            this.btn.style.height = "50px";
            document.body.appendChild(this.btn);
        }

        function disPlayDefinition() {
            let i = Math.floor(Math.random() * 4);  // i: 0~3 for the testing purpose
            document.getElementById("wordDefID").innerHTML = arrayOfDefs[i];
            document.getElementById("answerID").innerHTML = arrayOfAnswers[i];
            return i;
        }


        function AnswerChrLeng(i) {
            // Todo: utilize this and use it as popping all the char that was clicked
            // example: this function returns array [T, a, T, t, o, o ]
            // if t is clicked ever single time each letter is encountered
            // pop the letter/char and if we are utilizing score function increment the score
            for (let j = 0; j < arrayOfAnswers[i].length; j++) {
                answerChr[j] = arrayOfAnswers[i][j];
                // console.log(answerChr);
            }
            document.getElementById("answerChrID").innerHTML = answerChr;
            return answerChr;  // answerChr --> list
        }

        // let guessCount = 0;
        // function guess(answerChr) {  // answerChr ---> list
        //     for (let i = 0; i < answerChr.length; i++) {
        //         if (arrayOfGuesses[guessCount] === answerChr[i]) {
        //             console.log(arrayOfGuesses);
        //             console.log(arrayOfGuesses[guessCount]);
        //             earnScore();
        //             guessCount++;
        //             break;
        //         }
        //         else {
        //             console.log(arrayOfGuesses);
        //             console.log(arrayOfGuesses[guessCount]);
        //             loseScore();
        //             guessCount++;
        //             break;
        //         }
        //     }
        // }


        // This is a copy of the code above
        let guessCount = 0;
        function guess(answerChr) {  // answerChr ---> list
            for(let i = 0; i < answerChr.length; i++) {
                if (arrayOfGuesses[guessCount] === answerChr[i]) {
                    // You can just use str.includes("word") to see if the letter is in the word or not.
                    console.log(arrayOfGuesses);
                    console.log(arrayOfGuesses[guessCount]);
                    earnScore();
                    guessCount++;
                    break;
                }
                else {
                    console.log(arrayOfGuesses);
                    console.log(arrayOfGuesses[guessCount]);
                    loseScore();
                    guessCount++;
                    break;
                }
            }
        }


        function earnScore() {
            lives += lives;
            document.getElementById("lifeID").innerHTML = lives;
        }


        function loseScore() {
            lives -= lives;
            document.getElementById("lifeID").innerHTML = lives;
        }


        function gameOver() {
            if (lives === 0) {
                document.getElementById("guessID").innerHTML = "Game Over! " + prompt("Please enter your name.") + ", your score is " + lives + ".";
            }
        }

        // TODO: reset button
        // TODO: let boundary for score - make sure it doesn't go down below zero

        // function restart() {

        // }


        function main() {
            generateButton();
        }

        main();

    </script>

</body>

</html>